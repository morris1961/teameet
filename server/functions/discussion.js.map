{"version":3,"sources":["../../backend/functions/discussion.js"],"names":["discussion","UID","DID","status","subject","content","isAdmin","error_msg","Discussion","findById","toString","admin","console","log"],"mappings":";;;;;;;AACA;;;;;;;;AAEA;SACeA,U;;;;;wEAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAA4BC,YAAAA,GAA5B,QAA4BA,GAA5B,EAAiCC,GAAjC,QAAiCA,GAAjC;AACMC,YAAAA,MADN,GACe,KADf;AAEMC,YAAAA,OAFN,GAEgB,EAFhB;AAGMC,YAAAA,OAHN,GAGgB,EAHhB;AAIMC,YAAAA,OAJN,GAIgB,KAJhB;AAKMC,YAAAA,SALN,GAKkB,oBALlB;AAAA;AAAA;AAAA,mBAO6BC,wBAAWC,QAAX,CAAoBP,GAApB,CAP7B;;AAAA;AAOUF,YAAAA,YAPV;;AAAA,gBAQSA,YART;AAAA;AAAA;AAAA;;AASMG,YAAAA,MAAM,GAAG,KAAT;AACAI,YAAAA,SAAS,GAAG,8BAAZ;AAVN,6CAWa;AAAEJ,cAAAA,MAAM,EAANA,MAAF;AAAUI,cAAAA,SAAS,EAATA;AAAV,aAXb;;AAAA;AAaIH,YAAAA,OAAO,GAAGJ,YAAU,CAACI,OAArB;AACAC,YAAAA,OAAO,GAAGL,YAAU,CAACK,OAArB;AACAC,YAAAA,OAAO,GAAGL,GAAG,CAACS,QAAJ,OAAmBV,YAAU,CAACW,KAAX,CAAiBD,QAAjB,EAA7B;AACAP,YAAAA,MAAM,GAAG,IAAT;AACAI,YAAAA,SAAS,GAAG,YAAZ;AAjBJ;AAAA;;AAAA;AAAA;AAAA;AAmBIK,YAAAA,OAAO,CAACC,GAAR;AACAV,YAAAA,MAAM,GAAG,KAAT;AACAI,YAAAA,SAAS,GAAG,oBAAZ;AAAiC;;AArBrC;AAAA,6CAuBS;AAAEJ,cAAAA,MAAM,EAANA,MAAF;AAAUC,cAAAA,OAAO,EAAPA,OAAV;AAAmBC,cAAAA,OAAO,EAAPA,OAAnB;AAA4BC,cAAAA,OAAO,EAAPA,OAA5B;AAAqCJ,cAAAA,GAAG,EAAHA,GAArC;AAA0CK,cAAAA,SAAS,EAATA;AAA1C,aAvBT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;eA0BeP,U","sourcesContent":["// import models\r\nimport Discussion from '../models/discussion.js'\r\n\r\n// function for every cases\r\nasync function discussion({ UID, DID }) {\r\n  var status = false;\r\n  var subject = \"\";\r\n  var content = \"\";\r\n  var isAdmin = false;\r\n  var error_msg = \"Something wrong...\";\r\n  try {\r\n    const discussion = await Discussion.findById(DID);\r\n    if (!discussion) {\r\n      status = false;\r\n      error_msg = \"The discussion is not valid!\"\r\n      return { status, error_msg };\r\n    }\r\n    subject = discussion.subject;\r\n    content = discussion.content;\r\n    isAdmin = UID.toString() === discussion.admin.toString();\r\n    status = true;\r\n    error_msg = \"Successed!\";\r\n  } catch (e) {\r\n    console.log(e)\r\n    status = false;\r\n    error_msg = \"Something wrong...\";;\r\n  }\r\n  return { status, subject, content, isAdmin, DID, error_msg };\r\n}\r\n\r\nexport default discussion;"],"file":"discussion.js"}