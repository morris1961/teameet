{"version":3,"sources":["../src/index.js"],"names":["runtimeCompat","defineProvider","debug","useBabelRuntime","pureName","name","polyfills","usageGlobal","isRegenerator","utils","usagePure","path","meta"],"mappings":";AAIA,MAAMA,aAAa,GAAnB,8CAAA;AAEA,IAAA,KAAA,GAAeC,cAAc,CAAC,CAAC;AAAEC,EAAAA;AAAF,CAAD,EAAA,OAAA,KAAwB;AACpD,QAAM;AAAE,KAAA,aAAA,GAAiB;AAAEC,MAAAA;AAAF,QAAsB;AAAzC,MAAN,OAAA;AAEA,QAAMC,QAAQ,GAAGD,eAAe,GAC3B,GAAEA,eADyB,cAAA,GAAhC,qBAAA;AAIA,SAAO;AACLE,IAAAA,IAAI,EADC,aAAA;AAGLC,IAAAA,SAAS,EAAE,CAHN,qBAGM,CAHN;;AAKLC,IAAAA,WAAW,CAAA,IAAA,EAAA,KAAA,EAAc;AACvB,UAAIC,aAAa,CAAjB,IAAiB,CAAjB,EAAyB;AACvBN,QAAAA,KAAK,CAALA,qBAAK,CAALA;AACAO,QAAAA,KAAK,CAALA,kBAAAA,CAAAA,gCAAAA;AACD;AATE,KAAA;;AAWLC,IAAAA,SAAS,CAAA,IAAA,EAAA,KAAA,EAAA,IAAA,EAAoB;AAC3B,UAAIF,aAAa,CAAjB,IAAiB,CAAjB,EAAyB;AACvBG,QAAAA,IAAI,CAAJA,WAAAA,CACEF,KAAK,CAALA,mBAAAA,CAAAA,QAAAA,EADFE,qBACEF,CADFE;AAGD;AACF;;AAjBI,GAAP;AAPF,CAA6B,CAA7B;;AA4BA,MAAMH,aAAa,GAAGI,IAAI,IACxBA,IAAI,CAAJA,IAAAA,KAAAA,QAAAA,IAA0BA,IAAI,CAAJA,IAAAA,KAD5B,oBAAA","sourcesContent":["// @flow\n\nimport defineProvider from \"@babel/helper-define-polyfill-provider\";\n\nconst runtimeCompat = \"#__secret_key__@babel/runtime__compatibility\";\n\nexport default defineProvider(({ debug }, options) => {\n  const { [runtimeCompat]: { useBabelRuntime } = {} } = options;\n\n  const pureName = useBabelRuntime\n    ? `${useBabelRuntime}/regenerator`\n    : \"regenerator-runtime\";\n\n  return {\n    name: \"regenerator\",\n\n    polyfills: [\"regenerator-runtime\"],\n\n    usageGlobal(meta, utils) {\n      if (isRegenerator(meta)) {\n        debug(\"regenerator-runtime\");\n        utils.injectGlobalImport(\"regenerator-runtime/runtime.js\");\n      }\n    },\n    usagePure(meta, utils, path) {\n      if (isRegenerator(meta)) {\n        path.replaceWith(\n          utils.injectDefaultImport(pureName, \"regenerator-runtime\"),\n        );\n      }\n    },\n  };\n});\n\nconst isRegenerator = meta =>\n  meta.kind === \"global\" && meta.name === \"regeneratorRuntime\";\n"],"file":"index.js"}